# Sitemap SEO Implementation Guide

This document outlines the sitemap implementation for the MobixAI project, following professional SEO standards.

## Sitemap Structure

The project implements a three-level sitemap structure:

1. **Sitemap Index** (`sitemap.xml`) - References both static and articles sitemaps
2. **Static Pages Sitemap** (`sitemap-static.xml`) - Contains static pages
3. **Articles Sitemap** (`sitemap-articles.xml`) - Dynamically generated for model articles

## Implementation Details

### Dynamic Generation

The sitemaps are generated dynamically on request rather than as static files:
- Static pages sitemap is generated by a custom view
- Articles sitemap is generated by a custom view
- Sitemap index is a static XML response with current timestamps

### URL Structure

All URLs use the canonical domain `https://mobixai.ir` with proper HTTPS protocol.

### XML Standards

The sitemaps follow the official sitemap protocol:
- Proper XML declaration and encoding
- Correct namespace declarations
- Valid XML formatting with proper indentation
- W3C datetime format for all timestamps

### Content Standards

#### Articles Sitemap
- **changefreq**: weekly (appropriate for content that may be updated)
- **priority**: 0.8 (high priority for content pages)
- **lastmod**: Uses W3C datetime format (ISO 8601)
- **Images**: Includes image:title and image:caption elements for articles with images

#### Static Pages Sitemap
- **changefreq**: varies by page type (daily for homepage, monthly for terms)
- **priority**: 0.5-1.0 based on page importance
- **lastmod**: Current date for static pages

## Image Sitemap Extension

Image sitemaps are implemented for articles with images:
- Proper `image:loc` with absolute URLs
- Descriptive `image:title` and `image:caption`
- Following Google's image sitemap guidelines

Note: Image references for static pages were removed as the referenced images don't exist in the static directory.

## URLs

- Sitemap index: `https://mobixai.ir/sitemap.xml`
- Static pages sitemap: `https://mobixai.ir/sitemap-static.xml`
- Articles sitemap: `https://mobixai.ir/sitemap-articles.xml`

## Testing

To verify sitemap accessibility:
- Visit `https://mobixai.ir/sitemap.xml`
- Visit `https://mobixai.ir/sitemap-static.xml`
- Visit `https://mobixai.ir/sitemap-articles.xml`

## Best Practices Implemented

1. **Proper Prioritization**: Pages are assigned appropriate priority values
2. **Accurate Change Frequency**: Values reflect actual content update frequency
3. **Valid URLs**: All URLs are absolute and include proper protocol
4. **Automatic Updates**: Sitemaps are generated dynamically on request
5. **Error Handling**: Proper error handling without breaking content operations
6. **Separation of Concerns**: Static and dynamic content are in separate sitemaps
7. **Clean Implementation**: No references to non-existent resources

## Maintenance

Regular maintenance tasks:
1. Verify sitemap accessibility through Google Search Console
2. Check for broken URLs in sitemaps
3. Monitor sitemap generation logs for errors
4. Ensure all published content appears in relevant sitemaps
5. Verify that referenced images exist if adding image metadata

## Troubleshooting

Common issues and solutions:
1. **Sitemap not updating**: Sitemaps are generated dynamically, so they're always current
2. **Invalid URLs**: Verify get_absolute_url() method on models
3. **XML formatting issues**: Validate generated XML against sitemap schema
4. **404 errors**: Check URL patterns in urls.py files
5. **500 errors**: Check server logs for template or view errors
6. **Missing images**: Verify that referenced images exist in the static directory