# ุฑุงูููุง ุณุณุชู ูุฏุฑุช ูพููโูุง ูพุดโูุฑุถ ุงุดุชุฑุงฺฉ

ุงู ุฑุงูููุง ูุญูู ุงุณุชูุงุฏู ุงุฒ ุณุณุชู ุฌุฏุฏ ูุฏุฑุช ูพููโูุง ูพุดโูุฑุถ ุงุดุชุฑุงฺฉ ุฑุง ุชูุถุญ ูโุฏูุฏ.

## โจ ูฺฺฏโูุง ุฌุฏุฏ

### ๐ฏ ูุฏุฑุช ุงุฒ ูพูู ุงุฏูู
- ุชูุธู ูพูู ูพุดโูุฑุถ ุจุฑุง ฺฉุงุฑุจุฑุงู ุฌุฏุฏ
- ุชูุธู ูพูู fallback ูพุณ ุงุฒ ุงููุถุง ุงุดุชุฑุงฺฉ
- ูุฏุฑุช ุขุณุงู ุงุฒ ุทุฑู Django Admin

### ๐ ูุฏุฑุช ุฎูุฏฺฉุงุฑ ุงููุถุง
- ุจุฑุฑุณ ุฎูุฏฺฉุงุฑ ุงุดุชุฑุงฺฉโูุง ูููุถ ุดุฏู
- ุชุฎุตุต ุฎูุฏฺฉุงุฑ ูพูู fallback
- ูุงฺฏโฺฏุฑ ฺฉุงูู ุชูุงู ุนููุงุช

### ๐ ุขูุงุฑฺฏุฑ ู ูุงูุชูุฑูฺฏ
- ุขูุงุฑ ฺฉุงุฑุจุฑุงู ุจุง/ุจุฏูู ุงุดุชุฑุงฺฉ
- ุขูุงุฑ ุจุฑ ุงุณุงุณ ููุน ูพูู
- ุชุดุฎุต ู ุฑูุน ูุดฺฉูุงุช

## ๐ ุฑุงูโุงูุฏุงุฒ ุงููู

### 1. ุงุฌุฑุง ูุงฺฏุฑุดู

```bash
python manage.py makemigrations
python manage.py migrate
```

### 2. ุฑุงูโุงูุฏุงุฒ ุชูุธูุงุช ูพุดโูุฑุถ

```bash
# ุฑุงูโุงูุฏุงุฒ ุฎูุฏฺฉุงุฑ ุจุง ูพูู Basic
python manage.py manage_subscriptions --action=setup_defaults

# ุง ูุดุฎุต ฺฉุฑุฏู ูพูู ุฏูุฎูุงู
python manage.py manage_subscriptions --action=setup_defaults --plan-name="Free"
```

### 3. ุจุฑุฑุณ ุชูุธูุงุช

```bash
python manage.py manage_subscriptions --action=validate
```

## ๐ ูุฏุฑุช ุงุฒ ูพูู ุงุฏูู

### ุฏุณุชุฑุณ ุจู ุชูุธูุงุช

1. ูุงุฑุฏ Django Admin ุดูุฏ
2. ุจุฎุด **Subscriptions** > **ุชูุธูุงุช ูพุดโูุฑุถ ุงุดุชุฑุงฺฉ** ุฑุง ุจุงุฒ ฺฉูุฏ

### ุงููุงุน ุชูุธูุงุช

#### ๐ค ูพูู ูพุดโูุฑุถ ฺฉุงุฑุจุฑุงู ุฌุฏุฏ
- ูพูู ฺฉู ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจู ฺฉุงุฑุจุฑุงู ุฌุฏุฏ ุชุฎุตุต ูโุงุจุฏ
- ูุนูููุงู ฺฉ ูพูู ุฑุงฺฏุงู ุง Basic

#### โฐ ูพูู ูพุดโูุฑุถ ูพุณ ุงุฒ ุงููุถุง
- ูพูู ฺฉู ูพุณ ุงุฒ ุงููุถุง ุงุดุชุฑุงฺฉ ูพูู ุชุฎุตุต ูโุงุจุฏ
- ูุนูููุงู ููุงู ูพูู Basic ุง Free

### ุงุฌุงุฏ ุชูุธู ุฌุฏุฏ

1. **Add ุชูุธูุงุช ูพุดโูุฑุถ ุงุดุชุฑุงฺฉ** ุฑุง ฺฉูฺฉ ฺฉูุฏ
2. **ููุน ุชูุธู** ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
3. **ูพูู ุงุดุชุฑุงฺฉ** ููุฑุฏ ูุธุฑ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
4. **ูุนุงู** ุฑุง ุชฺฉ ุจุฒูุฏ
5. ุฏุฑ ุตูุฑุช ูุงุฒ **ุชูุถุญ** ุงุถุงูู ฺฉูุฏ
6. ุฐุฎุฑู ฺฉูุฏ

## ๐ ูุฏุฑุช ุงุฒ ุฎุท ูุฑูุงู

### ุฏุณุชูุฑุงุช ุงุตู

```bash
# ููุงุด ุขูุงุฑ ุงุดุชุฑุงฺฉโูุง
python manage.py manage_subscriptions --action=stats

# ุจุฑุฑุณ ุชูุธูุงุช
python manage.py manage_subscriptions --action=validate

# ุจุฑุฑุณ ุงุดุชุฑุงฺฉโูุง ูููุถ ุดุฏู
python manage.py manage_subscriptions --action=check_expired

# ุชุฎุตุต ูพูู ูพุดโูุฑุถ ุจู ฺฉุงุฑุจุฑุงู ุจุฏูู ุงุดุชุฑุงฺฉ
python manage.py manage_subscriptions --action=assign_defaults

# ุฑูุน ูุดฺฉู ฺฉุงุฑุจุฑุงู ุจุฏูู ุงุดุชุฑุงฺฉ
python manage.py manage_subscriptions --action=fix_users_without_subscription
```

### ุญุงูุช ุชุณุช (Dry Run)

```bash
# ุงุฌุฑุง ุชุณุช ุจุฏูู ุงุนูุงู ุชุบุฑุงุช
python manage.py manage_subscriptions --action=check_expired --dry-run
```

## ๐ ูุธุงุฑุช ู ูุงูุชูุฑูฺฏ

### ุขูุงุฑ ฺฉู ุณุณุชู

```bash
python manage.py manage_subscriptions --action=stats
```

ุฎุฑูุฌ ููููู:
```
๐ ุขูุงุฑ ุงุดุชุฑุงฺฉโูุง:
๐ฅ ฺฉู ฺฉุงุฑุจุฑุงู: 1250
โ ฺฉุงุฑุจุฑุงู ุจุง ุงุดุชุฑุงฺฉ: 1200
โ ฺฉุงุฑุจุฑุงู ุจุฏูู ุงุดุชุฑุงฺฉ: 50
๐ข ุงุดุชุฑุงฺฉโูุง ูุนุงู: 1180
๐ด ุงุดุชุฑุงฺฉโูุง ูููุถ: 20

๐ ุขูุงุฑ ุจุฑ ุงุณุงุณ ููุน ุงุดุชุฑุงฺฉ:
  Basic: 800 ฺฉุงุฑุจุฑ
  Premium: 300 ฺฉุงุฑุจุฑ
  Pro: 80 ฺฉุงุฑุจุฑ
```

### ุงุนุชุจุงุฑุณูุฌ ุชูุธูุงุช

```bash
python manage.py manage_subscriptions --action=validate
```

## ๐ง ุนุจโุงุจ ูุดฺฉูุงุช ุฑุงุฌ

### ูุดฺฉู: ฺฉุงุฑุจุฑุงู ุฌุฏุฏ ุงุดุชุฑุงฺฉ ุฏุฑุงูุช ููโฺฉููุฏ

**ุจุฑุฑุณ:**
```bash
python manage.py manage_subscriptions --action=validate
```

**ุฑุงูโุญู:**
1. ุงุทููุงู ุงุฒ ูุฌูุฏ ุชูุธู ูุนุงู ุจุฑุง ฺฉุงุฑุจุฑุงู ุฌุฏุฏ
2. ุจุฑุฑุณ ูุนุงู ุจูุฏู ูพูู ุงูุชุฎุงุจ ุดุฏู
3. ุฏุฑ ุตูุฑุช ูุงุฒ ุงุฌุงุฏ ุชูุธูุงุช ุฌุฏุฏ

### ูุดฺฉู: ฺฉุงุฑุจุฑุงู ููุฌูุฏ ุงุดุชุฑุงฺฉ ูุฏุงุฑูุฏ

**ุจุฑุฑุณ:**
```bash
python manage.py manage_subscriptions --action=stats
```

**ุฑุงูโุญู:**
```bash
python manage.py manage_subscriptions --action=fix_users_without_subscription
```

### ูุดฺฉู: ุงุดุชุฑุงฺฉโูุง ูููุถ ุดุฏู ูพุฑุฏุงุฒุด ููโุดููุฏ

**ุจุฑุฑุณ:**
```bash
python manage.py manage_subscriptions --action=check_expired --dry-run
```

**ุฑุงูโุญู:**
```bash
python manage.py manage_subscriptions --action=check_expired
```

## ๐ค ุงุชููุงุณูู ุจุง Cron

ุจุฑุง ุงุฌุฑุง ุฎูุฏฺฉุงุฑ ูพุฑุฏุงุฒุด ุงุดุชุฑุงฺฉโูุง ูููุถ ุดุฏู:

```bash
# ุงุฌุงุฏ cron job (ุฑูุฒุงูู ุณุงุนุช 2:00 ุตุจุญ)
0 2 * * * cd /path/to/project && python manage.py manage_subscriptions --action=check_expired
```

## ๐ ุงููุช ู ุจูุชุฑู ุฑูุดโูุง

### 1. ูุญุฏูุฏุช ุฏุณุชุฑุณ Admin
- ููุท ูุฏุฑุงู ุงุฑุดุฏ ุฏุณุชุฑุณ ุจู ุชุบุฑ ุชูุธูุงุช ุฏุงุดุชู ุจุงุดูุฏ
- ุชุบุฑุงุช ููู ุฑุง ูุงฺฏ ฺฉูุฏ

### 2. ูพุดุชุจุงูโฺฏุฑ
- ูุจู ุงุฒ ุชุบุฑุงุช ุนูุฏูุ ูพุดุชุจุงู ุงุฒ ุฏุชุงุจุณ ุชูู ฺฉูุฏ
- ุงุจุชุฏุง ุฏุฑ ูุญุท ุชุณุช ุขุฒูุงุด ฺฉูุฏ

### 3. ูุงูุชูุฑูฺฏ
- ุขูุงุฑ ุฑูุฒุงูู ุงุฒ ุณุณุชู ุจฺฏุฑุฏ
- ูุงฺฏโูุง ุฎุทุง ุฑุง ุจุฑุฑุณ ฺฉูุฏ

## ๐ ฺฏุณุชุฑุด ุณุณุชู

### ุงุถุงูู ฺฉุฑุฏู ุงููุงุน ุชูุธูุงุช ุฌุฏุฏ

1. ุฏุฑ ูุงู `models.py` ุจู `SETTING_TYPES` ุงุถุงูู ฺฉูุฏ
2. ูุชุฏูุง ุฌุฏุฏ ุฏุฑ ฺฉูุงุณ `DefaultSubscriptionSettings` ุงุฌุงุฏ ฺฉูุฏ
3. ูุงฺฏุฑุดู ุงุฌุฑุง ฺฉูุฏ

### ุงุถุงูู ฺฉุฑุฏู ููุงูู ูพฺุฏูโุชุฑ

ูโุชูุงูุฏ ุฏุฑ ฺฉูุงุณ `SubscriptionManager` ููุทู ูพฺุฏูโุชุฑ ุงุถุงูู ฺฉูุฏ:
- ุชุฎุตุต ุจุฑ ุงุณุงุณ ุชุงุฑุฎ ุนุถูุช
- ุชุฎุตุต ุจุฑ ุงุณุงุณ ูุญู ุฌุบุฑุงูุง
- ุชุฎุตุต ุจุฑ ุงุณุงุณ ููุน ฺฉุงุฑุจุฑ

## ๐ ูพุดุชุจุงู

ุฏุฑ ุตูุฑุช ุจุฑูุฒ ูุดฺฉู:
1. ุงุจุชุฏุง `--validate` ุฑุง ุงุฌุฑุง ฺฉูุฏ
2. ูุงฺฏโูุง Django ุฑุง ุจุฑุฑุณ ฺฉูุฏ
3. `--dry-run` ุจุฑุง ุชุณุช ุงุณุชูุงุฏู ฺฉูุฏ
4. ุฏุฑ ุตูุฑุช ูุงุฒ ุงุฒ ุทุฑู ูพูู ุงุฏูู ุชูุธูุงุช ุฑุง ุจุฑุฑุณ ฺฉูุฏ

---

**ูฺฉุชู:** ุงู ุณุณุชู ุจู ฺฏูููโุง ุทุฑุงุญ ุดุฏู ฺฉู ุญุฏุงูู ุชุฃุซุฑ ููู ุฑู ุนููฺฉุฑุฏ ุณุงุช ุฏุงุดุชู ุจุงุดุฏ ู ุชูุงู ุนููุงุช ููู ูุงฺฏ ูโุดููุฏ.